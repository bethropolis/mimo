show "=== Clean End Syntax Demo ==="

show "1. If statements with 'end':"
set score 85
if > score 90
    show "Excellent!"
else
    if > score 70
        show "Good job!"
    else
        show "Keep trying!"
    end
end

show "2. While loops with 'end':"
set count 0
while < count 3
    show count
    set count + count 1
end

show "3. Functions with 'end':"
function factorial(n)
    if = n 0
        return 1
    else
        call factorial(- n 1) -> prev
        return * n prev
    end
end

call factorial(5) -> result
show result

show "4. For loops with 'end':"
set colors ["red", "green", "blue"]
for color in colors
    show color
end

show "5. Try-catch with 'end':"
try
    set x 10
    set y 0
    set division / x y
catch error
    show + "Error occurred: " error
end

show "6. Nested structures with 'end':"
set matrix [[1, 2], [3, 4]]
for row in matrix
    for value in row
        if > value 2
            show + "Large: " value
        else
            show + "Small: " value
        end
    end
end

show "7. Complex function with multiple 'end's:"
function process_numbers(numbers)
    for num in numbers
        if > num 2
            show + "Large: " num
        else
            if > num 0
                show + "Small positive: " num
            else
                show "Zero or very small!"
            end
        end
    end
end

set test_nums [2, 0, 5, 1, 3]
call process_numbers(test_nums)

show "=== Much cleaner with just 'end'! ==="